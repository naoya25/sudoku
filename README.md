# ナンプレの解答作成アルゴリズム
https://qiita.com/S_Kaji/items/c76f3732cd4e00644719

# v1
タイム: 626.7651491165161s\
全探索

# v2
タイム: 68.91552686691284s\
全探索、check関数改善

# v3
タイム: 3.2475969791412354s\
選択肢が少ないやつから順に全探索

# v4
タイム: 2.516065835952759s\
選択肢が少ないやつから順に全探索 & 選択肢も同時に探す

# 問題生成
1. 真っ白の盤面に左上3x3、真ん中3x3、右下3x3にランダムに1〜9の数字を入れる\
3 * 9! ~ 10^6 通りくらい
```txt
+-------+-------+-------+
| 5 2 8 | . . . | . . . |
| 6 4 1 | . . . | . . . |
| 7 3 9 | . . . | . . . |
+-------+-------+-------+
| . . . | 3 2 7 | . . . |
| . . . | 8 9 5 | . . . |
| . . . | 6 4 1 | . . . |
+-------+-------+-------+
| . . . | . . . | 3 5 7 |
| . . . | . . . | 2 1 8 |
| . . . | . . . | 9 6 4 |
+-------+-------+-------+
```

2. 1で作成した盤面の解答を作成\
v4のアルゴリズムで0部分を埋める\
解答はめちゃめちゃいっぱい出てくるので最初の1つを使用する\
これで模範解答となる盤面ができる

3. 2で作成した盤面を元に穴を開けていく\
ランダムで穴を開ける場所を選択 → 解答が一意に定まるか判定(v4を使用)\
一意になるとき → また次の穴を開ける\
一意にならないとき(解答が複数存在するとき or 解答がないとき、矛盾) → 一個前(解答が一意に定まる、穴の数が最大の時)の盤面

これで可能な限り穴が多い(おそらく一番難しい)ナンプレが完成する\

# 生成結果
```txt
1000問生成にかかった時間: 5524.163115739822s ~ 1h32min
1問あたり: 5.5s
10問あたり: ~1min
```
空白の個数の分布は以下のようになってました\
理論上穴の数は64が最大らしい
```txt
blank: 50 --> 0  0.0%
blank: 51 --> 0  0.0%
blank: 52 --> 0  0.0%
blank: 53 --> 1  0.1%
blank: 54 --> 18  1.8%
blank: 55 --> 123  12.3%
blank: 56 --> 322  32.2%
blank: 57 --> 320  32.0%
blank: 58 --> 182  18.2%
blank: 59 --> 28  2.8%
blank: 60 --> 6  0.6%
blank: 61 --> 0  0.0%
blank: 62 --> 0  0.0%
blank: 63 --> 0  0.0%
blank: 64 --> 0  0.0%
```


めちゃめちゃやりにくいけど、
```python
python play.py
```
で実際にプレイできるよーー
